<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>ぱぐとさーす | Okada's mypage</title>
    <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/main.css">
    <script src="../scripts/main.js" defer></script>
  </head>
  <script async src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sunburst"></script>
  <body>
    <header>
      <div class="head-container"><a href="../">あいうえおch.</a>
        <details>
          <summary>Members Link</summary>
          <nav>
            <ul>
              <li><a href="https://nogak.github.io/mypage/">Nogami's Room</a></li>
              <li><a href="https://oono10.github.io/mypage/">Oono's Room</a></li>
            </ul>
          </nav>
        </details>
      </div>
    </header>
    <main>
      <nav><a href="../">ほーむ</a><span> / </span><span>ぱぐとさーす</span>
      </nav>
      <article>
        <h1>Pug &amp; Sass篇</h1>
        <p>PugやSassをnpm-Scriptsで監視するまでをさくっと体系的に書いているところが少なかったので書きます。</p>
        <p>Stylus篇は<a href="../useStylus/">こちら</a>。</p>
        <h2>誰が読者対象？</h2>
        <p>htmlを複数ページ作成して、ヘッダーやフッターなどの共通部分を</p>
        <p>自動生成したいなっていう欲に駆られたらまず読んでほしいです。</p>
        <p>2019年9月現在の個人的おすすめを教えます。</p>
        <p>phpでやろうって人は対象外。</p>
        <p>JavaScriptの知識でなんとかならないかということを出発地点に情報収集していったのが今回のエントリです。</p>
        <p>Node.js及びjsonをちょこっと触るだけでなんとかなります。</p>
        <p>いかに便利であるは他の方が散々書かれていますので、見慣れない単語が出てきたら逐一ググってください。</p><br>
        <h2>何ができるの?</h2>
        <p><b>Pug</b>を使えばhtmlの無駄を省いて書けます。</p>
        <p><b>Sass</b>(SCSSではない)を使えばCSSの無駄を省いて書けます。</p>
        <p>それだけです。</p>
        <h2>個人的に何をしてはいけないのか</h2>
        <p>CSSに似てるからって<b>SCSS</b>に流されない。</p>
        <p><b>gulp</b>は使わない。</p>
        <pre class="prettyprint lang-bash linenums">npm i <b>-g</b></pre>
        <p>は極力避ける。</p>
        <p><a href="https://mosapride.com/index.php/2018/02/06/post-681/">mosaの胃薬 | 【npm】グローバルインストールは控えるべき</a></p>
        <h2>詳解</h2>
        <p>Node.jsをインストール、初期化する。</p>
        <p>npmでPugとnode-sassをインストールする。</p>
        <pre class="prettyprint lang-bash linenums">npm i pug</pre>
        <p>21/11/02追記</p>
        <p>Node.js v16.10.0、npm 7.24.0、pug 3.0.2現在、pug-cliも入れないと動きません。</p>
        <pre class="prettyprint lang-bash linenums">npm i pug-cli</pre>
        <p>お試しあれ。追記おわり</p>
        <pre class="prettyprint lang-bash linenums">npm i node-sass</pre>
        <p>package.jsonを編集してPugとSassを使えるようにする。</p>
        <pre class="prettyprint lang-json linenums">{
  &quot;scripts&quot;: {
    &quot;pug&quot;: &quot;pug&quot;,
    &quot;node-sass&quot;: &quot;node-sass&quot;
  }
}</pre>
        <p>走らせるときは</p>
        <pre class="prettyprint lang-bash linenums">npm run &lt;script name&gt;</pre>
        <p>引数をつけたい時は</p>
        <pre class="prettyprint lang-bash linenums">npm run &lt;script name&gt; -- &lt;option command&gt;</pre>
        <p>ヘルプはこれで見られるよ。</p>
        <pre class="prettyprint lang-bash linenums">npm run pug -- -h</pre>
        <pre class="prettyprint lang-bash linenums">npm run npde-sass -- --help</pre>
        <p>npm-run-allをインストールして、</p>
        <pre class="prettyprint lang-bash linenums">npm i npm-run-all</pre>
        <p>直列: serial、</p>
        <pre class="prettyprint lang-bash linenums">run-s &lt;script name&gt; &lt;script name&gt;</pre>
        <p>並列: parallelで実行。</p>
        <pre class="prettyprint lang-bash linenums">run-p &lt;script name&gt; &lt;script name&gt;</pre>
        <p>こんな感じに書く。</p>
        <pre class="prettyprint lang-json linenums">&quot;scripts&quot;: {
  &quot;build-pug&quot;: &quot;pug &lt;input directory&gt; -b &lt;input directory&gt; -o &lt;output directory&gt; -P&quot;,
  &quot;build-sass&quot;: &quot;node-sass &lt;input directory&gt; -o &lt;output directory&gt;&quot;,
  &quot;build&quot;: &quot;run-p build-*&quot;,
  &quot;watch-pug&quot;: &quot;pug &lt;input directory&gt; -b &lt;input directory&gt; -o &lt;output directory&gt; -P -w&quot;,
  &quot;watch-sass&quot;: &quot;node-sass &lt;input directory&gt; -o &lt;output directory&gt; -w&quot;,
  &quot;start&quot;: &quot;run-p watch-*&quot;
}</pre>
        <p>start restart stop testはrunがいらない。これで監視開始なのだ。</p>
        <pre class="prettyprint lang-bash linenums">npm start</pre>
        <p>preタグを複数行にまたいで使いたいときにはこれもいれよう。</p>
        <pre class="prettyprint lang-bash linenums">npm i jstransformer-escape-html</pre><a href="https://kuroeveryday.blogspot.com/2018/08/how-to-display-raw-html-and-script-code-in-pug.html">Black Everyday Company | pug(Jade)でエスケープせずhtmlタグやscriptをそのまま表示させる方法</a><br><br>
        <p>ローカルサーバー立ち上げたりいろいろできるけど、とりあえずこんなもん。</p>
        <p>記法は各々調べよう。おわり。</p>
        <h2>以下、似たようなやつとか。</h2>
        <p>html: ejs, haml, pug</p>
        <p>css: LESS, sass, Stylus</p>
        <p>task runner: grunt, gulp, webpack, parcel</p>
      </article>
    </main>
    <footer>
    </footer>
  </body>
</html>